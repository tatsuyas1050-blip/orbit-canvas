<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜Ÿç©ºãƒ©ã‚¤ãƒ•ãƒ­ã‚° - My Observation Log</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="assets/css/base.css">
    <link rel="stylesheet" href="assets/css/pages.css">
    
    <style>
        /* Lifelog specific adjustments */
        .container { grid-template-columns: 300px 1fr; display: grid; gap: 2rem; }
        .avatar {
            width: 100px; height: 100px; background: var(--accent-gold);
            border-radius: 50%; margin: 0 auto 1rem;
            display: flex; align-items: center; justify-content: center;
            font-size: 3rem; color: var(--bg-dark);
        }
        .user-name { font-size: 1.4rem; margin-bottom: 0.5rem; }
        .user-rank { 
            display: inline-block; padding: 4px 12px; 
            border: 1px solid var(--accent-gold); color: var(--accent-gold);
            font-size: 0.8rem; border-radius: 20px; margin-bottom: 1.5rem;
        }
        .stats-row {
            display: flex; justify-content: space-around;
            border-top: 1px solid rgba(255,255,255,0.1); padding-top: 1rem;
        }
        .stat-item h4 { margin: 0; font-size: 0.8rem; opacity: 0.6; font-weight: normal; }
        .stat-item p { margin: 5px 0 0; font-size: 1.2rem; font-family: sans-serif; }
        .main-content { display: flex; flex-direction: column; gap: 2rem; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem; }
        label { display: block; font-size: 0.85rem; opacity: 0.7; margin-bottom: 0.3rem; }
        .log-list { display: flex; flex-direction: column; gap: 1rem; }
        .log-date-box {
            text-align: center; border-right: 1px solid rgba(255,255,255,0.1);
            display: flex; flex-direction: column; justify-content: center;
        }
        .log-date-box .year { font-size: 0.7rem; opacity: 0.6; }
        .log-date-box .date { font-size: 1.4rem; font-family: sans-serif; font-weight: bold; color: var(--accent-gold); }
        .log-details h3 { margin: 0 0 0.5rem; font-size: 1.1rem; }
        .log-meta { font-size: 0.8rem; opacity: 0.7; margin-bottom: 0.5rem; }
        .log-comment { font-size: 0.9rem; line-height: 1.6; opacity: 0.9; }

        @media (max-width: 768px) {
            .container { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    
    <div class="menu-container">
        <button id="menu-toggle" class="menu-toggle" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã">
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
        </button>
        
        <nav id="nav-overlay" class="nav-overlay">
            <ul class="nav-list">
                <li><a href="index.html" class="nav-link">ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸<span>Home</span></a></li>
                <li><a href="stars.html" class="nav-link">æ˜Ÿã‚’æ¢ã™<span>Star Chart</span></a></li>
                <li><a href="events.html" class="nav-link">æ˜Ÿç©ºæƒ…å ±å±€<span>Sky Events</span></a></li>
                <li><a href="theater.html" class="nav-link">å®‡å®™ã‚·ã‚¢ã‚¿ãƒ¼<span>Space Theater</span></a></li>
                <li><a href="lifelog.html" class="nav-link">æ˜Ÿç©ºãƒ©ã‚¤ãƒ•ãƒ­ã‚°<span>My Logbook</span></a></li>
            </ul>
        </nav>
    </div>

    <header class="common-header">
        <a href="index.html" class="header-back-btn">ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹</a>
        <h1 class="page-title">æ˜Ÿç©ºãƒ©ã‚¤ãƒ•ãƒ­ã‚°</h1>
    </header>

    <div class="container">
        <aside class="panel-bg" style="text-align:center; height:fit-content; box-shadow: 0 0 15px rgba(0,0,0,0.5);">
            <div class="avatar">ğŸ”­</div>
            <h2 class="user-name">å—é˜¿è˜‡ å¤ªéƒ</h2>
            <span class="user-rank">ãƒ©ãƒ³ã‚¯ï¼šæ˜Ÿç©ºãƒã‚¤ã‚¹ã‚¿ãƒ¼</span>
            
            <div class="stats-row">
                <div class="stat-item">
                    <h4>è¦³æ¸¬å›æ•°</h4>
                    <p id="total-logs">12</p>
                </div>
                <div class="stat-item">
                    <h4>è¦‹ã¤ã‘ãŸæ˜Ÿ</h4>
                    <p>48</p>
                </div>
            </div>
            <p style="margin-top:1.5rem; font-size:0.8rem; opacity:0.6;">
                æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³: 2025/12/17
            </p>
        </aside>

        <main class="main-content">
            
            <section class="panel-bg" style="padding:1.5rem;">
                <div class="section-header">è¦³æ¸¬ã‚’è¨˜éŒ²ã™ã‚‹</div>
                <form id="log-form">
                    <div class="form-row">
                        <div>
                            <label>æ—¥ä»˜</label>
                            <input type="date" id="input-date" required>
                        </div>
                        <div>
                            <label>è¦³æ¸¬å¯¾è±¡ / ã‚¿ã‚¤ãƒˆãƒ«</label>
                            <input type="text" id="input-target" placeholder="ä¾‹: æœ¨æ˜Ÿã€ã‚ªãƒªã‚ªãƒ³åº§" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div>
                            <label>æ©Ÿæ</label>
                            <select id="input-tool">
                                <option>è‚‰çœ¼</option>
                                <option>åŒçœ¼é¡</option>
                                <option>å¤©ä½“æœ›é é¡</option>
                            </select>
                        </div>
                        <div>
                            <label>è©•ä¾¡</label>
                            <select id="input-rating">
                                <option value="5">â˜…â˜…â˜…â˜…â˜… (æœ€é«˜)</option>
                                <option value="4">â˜…â˜…â˜…â˜…â˜† (ç¶ºéº—)</option>
                                <option value="3">â˜…â˜…â˜…â˜†â˜† (æ™®é€š)</option>
                                <option value="2">â˜…â˜…â˜†â˜†â˜† (å¾®å¦™)</option>
                                <option value="1">â˜…â˜†â˜†â˜†â˜† (è¦‹ãˆãªã‹ã£ãŸ)</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-bottom:1rem;">
                        <label>ãƒ¡ãƒ¢ãƒ»æ„Ÿæƒ³</label>
                        <textarea id="input-comment" rows="3" placeholder="æ„Ÿæƒ³ã‚„æ°—è±¡æ¡ä»¶ãªã©ã‚’è¨˜éŒ²..."></textarea>
                    </div>
                    <button type="submit" class="btn-submit">è¨˜éŒ²ã«è¿½åŠ </button>
                </form>
            </section>

            <section>
                <div class="section-header">éå»ã®è¦³æ¸¬è¨˜éŒ²</div>
                <div class="log-list" id="log-list-container"></div>
            </section>

        </main>
    </div>

    <script src="assets/js/script.js"></script>
    <script>
        const initialLogs = [
            { date: "2025-12-14", target: "ãµãŸã”åº§æµæ˜Ÿç¾¤", tool: "è‚‰çœ¼", rating: "5", comment: "1æ™‚é–“ã§15å€‹ã‚‚è¦‹ãˆãŸï¼å¯’ã‹ã£ãŸã‘ã©æœ€é«˜ã«ç¶ºéº—ã ã£ãŸã€‚" },
            { date: "2025-11-20", target: "æœ¨æ˜Ÿ", tool: "å¤©ä½“æœ›é é¡", rating: "4", comment: "ç¸æ¨¡æ§˜ãŒã¯ã£ãã‚Šè¦‹ãˆãŸã€‚ã‚¬ãƒªãƒ¬ã‚ªè¡›æ˜Ÿã‚‚4ã¤ç¢ºèªã€‚" },
            { date: "2025-10-05", target: "ä¸­ç§‹ã®åæœˆ", tool: "åŒçœ¼é¡", rating: "5", comment: "ã‚¯ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®é™°å½±ãŒç¾ã—ã‹ã£ãŸã€‚" }
        ];

        const listContainer = document.getElementById('log-list-container');
        const logForm = document.getElementById('log-form');
        const totalLogsEl = document.getElementById('total-logs');

        document.getElementById('input-date').valueAsDate = new Date();

        function renderLogs(logs) {
            listContainer.innerHTML = '';
            logs.forEach(log => {
                const d = new Date(log.date);
                const month = d.getMonth() + 1;
                const day = d.getDate();
                const stars = "â˜…".repeat(parseInt(log.rating)) + "â˜†".repeat(5 - parseInt(log.rating));

                const html = `
                    <div class="log-card">
                        <div class="log-date-box">
                            <span class="year">${d.getFullYear()}</span>
                            <span class="date">${month}/${day}</span>
                        </div>
                        <div class="log-details">
                            <h3>${log.target}</h3>
                            <div class="log-meta">
                                <span>ğŸ”­ ${log.tool}</span> | 
                                <span style="color:var(--accent-gold);">${stars}</span>
                            </div>
                            <div class="log-comment">${log.comment}</div>
                        </div>
                    </div>
                `;
                listContainer.insertAdjacentHTML('afterbegin', html);
            });
            totalLogsEl.textContent = logs.length + 9;
        }

        renderLogs(initialLogs);

        logForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const newLog = {
                date: document.getElementById('input-date').value,
                target: document.getElementById('input-target').value,
                tool: document.getElementById('input-tool').value,
                rating: document.getElementById('input-rating').value,
                comment: document.getElementById('input-comment').value
            };
            initialLogs.push(newLog);
            renderLogs(initialLogs);
            logForm.reset();
            document.getElementById('input-date').valueAsDate = new Date();
            alert("è¦³æ¸¬è¨˜éŒ²ã‚’ä¿å­˜ã—ã¾ã—ãŸï¼");
        });
    </script>
</body>
</html>